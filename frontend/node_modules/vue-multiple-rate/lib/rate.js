!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.rate=t():e.rate=t()}(this,function(){return function(e){function t(i){if(s[i])return s[i].exports;var o=s[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var s={};return t.m=e,t.c=s,t.i=function(e){return e},t.d=function(e,s,i){t.o(e,s)||Object.defineProperty(e,s,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var s=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(s,"a",s),s},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=3)}([function(e,t){},function(e,t,s){var i=s(4)(s(2),s(5),null,null,null);i.options.__file="/Users/gusaifei/Workspace/workspace-personal/rate/src/components/Rate.vue",i.esModule&&Object.keys(i.esModule).some(function(e){return"default"!==e&&"__"!==e.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),i.options.functional&&console.error("[vue-loader] Rate.vue: functional components are not supported with templates, they should use render functions."),e.exports=i.exports},function(e,t,s){"use strict";function i(e,t){if(!e||!t)return!1;if(t.indexOf(" ")>-1)throw new Error("className should not contain space.");return e.classList?e.classList.contains(t):(" "+e.className+" ").indexOf(" "+t+" ")>-1}Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"VmRate",componentName:"VmRate",props:{value:{type:Number,default:0},size:{type:[Number,String],default:18},max:{type:Number,default:5},lowThreshold:{type:Number,default:2},highThreshold:{type:Number,default:4},disabled:{type:Boolean,default:!1},allowHalf:{type:Boolean,default:!1},colors:{type:Array,default:function(){return["#F7BA2A","#F7BA2A","#F7BA2A"]}},voidColor:{type:String,default:"#C6D1DE"},disabledVoidColor:{type:String,default:"#EFF2F7"},iconClasses:{type:Array,default:function(){return["vm-rate-icon-star-full","vm-rate-icon-star-full","vm-rate-icon-star-full"]}},voidIconClass:{type:String,default:"vm-rate-icon-star-empty"},disabledVoidIconClass:{type:String,default:"vm-rate-icon-star-full"},showText:{type:Boolean,default:!1},texts:{type:Array,default:function(){return["极差","失望","一般","满意","惊喜"]}},textTemplate:{type:String,default:"{value}"},textColor:{type:String,default:"#1f2d3d"},textType:{type:String,default:"text"}},data:function(){return{colorMap:{},classMap:{},pointerAtLeftHalf:!0,currentValue:this.value,hoverIndex:-1}},watch:{value:function(e){this.currentValue=e,this.pointerAtLeftHalf=this.value!==Math.floor(this.value)}},computed:{text:function(){return this.disabled||"number"===this.textType?this.textTemplate.replace(/\{\s*value\s*\}/,"<i>"+this.currentValue+"</i>"):this.texts[Math.ceil(this.currentValue/(this.max/this.texts.length))-1]},voidClass:function(){return this.disabled?this.classMap.disabledVoidClass:this.classMap.voidClass},activeClass:function(){return this.getValueFromMap(this.currentValue,this.classMap)},classes:function(){var e=[],t=0,s=this.currentValue;for(this.allowHalf&&this.currentValue!==Math.floor(this.currentValue)&&s--;t<s;t++)e.push(this.activeClass);for(;t<this.max;t++)e.push(this.voidClass);return e},activeColor:function(){return this.getValueFromMap(this.currentValue,this.colorMap)},valueDecimal:function(){return 100*this.value-100*Math.floor(this.value)},decimalIconClass:function(){return this.getValueFromMap(this.value,this.classMap)},decimalStyle:function(){var e="";return this.disabled&&(e=(this.allowHalf?this.valueDecimal:0)+"%"),this.allowHalf&&!this.disabled&&(e="50%"),{color:this.activeColor,width:e}}},methods:{getValueFromMap:function(e,t){return e<=this.lowThreshold?t.lowColor||t.lowClass:e>=this.highThreshold?t.highColor||t.highClass:t.mediumColor||t.mediumClass},showDecimalIcon:function(e){var t=this.disabled&&this.valueDecimal&&e-1<this.value&&e>this.value,s=this.allowHalf&&this.pointerAtLeftHalf&&this.currentValue<e&&this.currentValue>=e-.5;return t||s},getIconStyle:function(e){var t=this.disabled?this.colorMap.disabledVoidColor:this.colorMap.voidColor,s=["%","in","cm","mm","em","ex","pt","pc","px","rem"];return{color:e<=this.currentValue?this.activeColor:t,fontSize:this.size+("string"==typeof this.size&&s.indexOf(this.size.replace(/\d*\.*\d*/,""))>-1?"":"px")}},selectValue:function(e){this.disabled||(this.allowHalf&&this.pointerAtLeftHalf?(this.$emit("input",this.currentValue),this.$emit("change",this.currentValue)):(this.$emit("input",e),this.$emit("change",e)))},setCurrentValue:function(e,t){if(!this.disabled){if(this.allowHalf){var s=t.target;i(s,"vm-rate__item")&&(s=s.querySelector(".vm-rate__icon")),i(s,"vm-rate__decimal")&&(s=s.parentNode),this.pointerAtLeftHalf=2*t.offsetX<=s.clientWidth,this.currentValue=this.pointerAtLeftHalf?e-.5:e}else this.currentValue=e;this.hoverIndex=e}},resetCurrentValue:function(){this.disabled||(this.allowHalf&&(this.pointerAtLeftHalf=this.value!==Math.floor(this.value)),this.currentValue=this.value,this.hoverIndex=-1)}},created:function(){this.value||this.$emit("input",0),this.colorMap={lowColor:this.colors[0],mediumColor:this.colors[1],highColor:this.colors[2],voidColor:this.voidColor,disabledVoidColor:this.disabledVoidColor},this.classMap={lowClass:this.iconClasses[0],mediumClass:this.iconClasses[1],highClass:this.iconClasses[2],voidClass:this.voidIconClass,disabledVoidClass:this.disabledVoidIconClass}}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(1),o=s.n(i),r=s(0);s.n(r);t.default=o.a},function(e,t){e.exports=function(e,t,s,i,o){var r,a=e=e||{},l=typeof e.default;"object"!==l&&"function"!==l||(r=e,a=e.default);var n="function"==typeof a?a.options:a;t&&(n.render=t.render,n.staticRenderFns=t.staticRenderFns),i&&(n._scopeId=i);var u;if(o?(u=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),s&&s.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(o)},n._ssrRegister=u):s&&(u=s),u){var c=n.functional,d=c?n.render:n.beforeCreate;c?n.render=function(e,t){return u.call(t),d(e,t)}:n.beforeCreate=d?[].concat(d,u):[u]}return{esModule:r,exports:a,options:n}}},function(e,t,s){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"vm-rate"},[e._l(e.max,function(t){return s("span",{staticClass:"vm-rate__item",style:{cursor:e.disabled?"auto":"pointer"},on:{mousemove:function(s){e.setCurrentValue(t,s)},mouseleave:e.resetCurrentValue,click:function(s){e.selectValue(t)}}},[s("i",{staticClass:"vm-rate__icon",class:[e.classes[t-1],{hover:e.hoverIndex===t}],style:e.getIconStyle(t)},[e.showDecimalIcon(t)?s("i",{staticClass:"vm-rate__decimal",class:e.decimalIconClass,style:e.decimalStyle}):e._e()])])}),e.showText?s("span",{staticClass:"vm-rate__text",style:{color:e.textColor},domProps:{innerHTML:e._s(e.text)}}):e._e()],2)},staticRenderFns:[]},e.exports.render._withStripped=!0}])});