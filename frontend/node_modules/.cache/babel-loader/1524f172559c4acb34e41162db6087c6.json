{"remainingRequest":"D:\\code\\Crabee\\frontend\\node_modules\\babel-loader\\lib\\index.js!D:\\code\\Crabee\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\code\\Crabee\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!D:\\code\\Crabee\\frontend\\src\\views\\Discussion.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\code\\Crabee\\frontend\\src\\views\\Discussion.vue","mtime":1638880390179},{"path":"D:\\code\\Crabee\\frontend\\babel.config.js","mtime":1638741696256},{"path":"D:\\code\\Crabee\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1638741698497},{"path":"D:\\code\\Crabee\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1638741698146},{"path":"D:\\code\\Crabee\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1638741698497},{"path":"D:\\code\\Crabee\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1638741705878}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKaW1wb3J0IHsgdG9hc3QgfSBmcm9tICJidWxtYS10b2FzdCI7CmV4cG9ydCBkZWZhdWx0IHsKICBpbmplY3Q6IFsncmVsb2FkJ10sCiAgbmFtZTogIkRpc2N1c3Npb24iLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB0b3BpY3M6IFtdLAogICAgICBmb3JtRGF0YTogewogICAgICAgIHRpdGxlOiAnJywKICAgICAgICBjb250ZW50OiAnJwogICAgICB9CiAgICB9OwogIH0sCiAgY29tcG9uZW50czoge30sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuZ2V0VG9waWNzKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRUb3BpY3M6IGZ1bmN0aW9uIGdldFRvcGljcygpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGF4aW9zLmdldCgnL2FwaS90b3BpYy8nKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIF90aGlzLnRvcGljcyA9IHJlc3BvbnNlLmRhdGE7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgfSk7CiAgICB9LAogICAgYWRkVG9waWM6IGZ1bmN0aW9uIGFkZFRvcGljKCkgewogICAgICBheGlvcy5wb3N0KCcvYXBpL3RvcGljL2FkZC8nLCB7CiAgICAgICAgJ3RpdGxlJzogdGhpcy5mb3JtRGF0YS50aXRsZSwKICAgICAgICAnY29udGVudCc6IHRoaXMuZm9ybURhdGEuY29udGVudAogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIHRvYXN0KHsKICAgICAgICAgIG1lc3NhZ2U6ICdUaGlzIHRvcGljIHdhcyBhZGRlZCEnLAogICAgICAgICAgdHlwZTogJ2lzLXN1Y2Nlc3MnLAogICAgICAgICAgZGlzbWlzc2libGU6IHRydWUsCiAgICAgICAgICBwYXVzZU9uSG92ZXI6IHRydWUsCiAgICAgICAgICBkdXJhdGlvbjogMjAwMCwKICAgICAgICAgIHBvc2l0aW9uOiAnYm90dG9tLXJpZ2h0JwogICAgICAgIH0pOwogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIGxvY2F0aW9uLnJlbG9hZCgpOwogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["D:\\code\\Crabee\\frontend\\src\\views\\Discussion.vue"],"names":[],"mappings":"AAqGA,OAAO,KAAP,MAAkB,OAAlB;AACA,SAAQ,KAAR,QAAoB,aAApB;AAEA,eAAe;AACb,EAAA,MAAM,EAAC,CAAC,QAAD,CADM;AAEb,EAAA,IAAI,EAAE,YAFO;AAGb,EAAA,IAHa,kBAGN;AACL,WAAO;AACL,MAAA,MAAM,EAAE,EADH;AAEL,MAAA,QAAQ,EAAE;AACR,QAAA,KAAK,EAAE,EADC;AAER,QAAA,OAAO,EAAE;AAFD;AAFL,KAAP;AAOD,GAXY;AAYb,EAAA,UAAU,EAAE,EAZC;AAeb,EAAA,OAfa,qBAeH;AACR,SAAK,SAAL;AACD,GAjBY;AAkBb,EAAA,OAAO,EAAE;AACP,IAAA,SADO,uBACI;AAAA;;AACT,MAAA,KAAI,CACC,GADL,CACS,aADT,EAEK,IAFL,CAEU,UAAA,QAAO,EAAK;AAChB,QAAA,KAAI,CAAC,MAAL,GAAc,QAAQ,CAAC,IAAvB;AACD,OAJL,EAKK,KALL,CAKW,UAAA,KAAI,EAAK;AACd,QAAA,OAAO,CAAC,GAAR,CAAY,KAAZ;AACD,OAPL;AAQD,KAVM;AAWP,IAAA,QAXO,sBAWG;AACR,MAAA,KAAK,CAAC,IAAN,CAAW,iBAAX,EAA8B;AAC5B,iBAAS,KAAK,QAAL,CAAc,KADK;AAE5B,mBAAW,KAAK,QAAL,CAAc;AAFG,OAA9B,EAIC,IAJD,CAIO,UAAA,QAAO,EAAK;AACjB,QAAA,KAAK,CAAC;AACJ,UAAA,OAAO,EAAE,uBADL;AAEJ,UAAA,IAAI,EAAE,YAFF;AAGJ,UAAA,WAAW,EAAE,IAHT;AAIJ,UAAA,YAAY,EAAE,IAJV;AAKJ,UAAA,QAAQ,EAAE,IALN;AAMJ,UAAA,QAAQ,EAAE;AANN,SAAD,CAAL;AAQD,OAbD,EAcC,IAdD,CAcM,UAAA,QAAO,EAAK;AAChB,QAAA,QAAQ,CAAC,MAAT;AACD,OAhBD;AAkBF;AA9BO;AAlBI,CAAf","sourcesContent":["<template>\r\n  <div class=\"block\">\r\n    <section class=\"section\">\r\n      <div>\r\n        <table class=\"table is-fullwidth is-striped is-hoverable\">\r\n          <thead>\r\n          <tr>\r\n            <th>Reply</th>\r\n            <th>Title</th>\r\n            <th>Creator</th>\r\n            <th>Last Reply</th>\r\n            <th>Update Time</th>\r\n          </tr>\r\n          </thead>\r\n          <tfoot>\r\n          <tr>\r\n            <th>Reply</th>\r\n            <th>Title</th>\r\n            <th>Creator</th>\r\n            <th>Last Reply</th>\r\n            <th>Update Time</th>\r\n          </tr>\r\n          </tfoot>\r\n          <tbody>\r\n          <tr v-for=\"topic in topics\" v-bind:key=\"topic.id\">\r\n            <th>{{ topic.get_reply_num }}</th>\r\n            <td><router-link v-bind:to= \"topic.get_absolute_url\">{{ topic.title }}</router-link>\r\n            </td>\r\n            <td>{{ topic.get_username }}</td>\r\n            <td>{{ topic.get_last_replier }}</td>\r\n            <td>{{ topic.get_update_time }}</td>\r\n          </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n      <div id=\"page\" class=\"block\">\r\n        <nav class=\"pagination is-small\" role=\"navigation\" aria-label=\"pagination\">\r\n          <a class=\"pagination-previous\">Previous</a>\r\n          <a class=\"pagination-next\">Next page</a>\r\n          <ul class=\"pagination-list\">\r\n            <li><a class=\"pagination-link\" aria-label=\"Goto page 1\">1</a></li>\r\n            <li><span class=\"pagination-ellipsis\">&hellip;</span></li>\r\n            <li><a class=\"pagination-link\" aria-label=\"Goto page 45\">45</a></li>\r\n            <li><a class=\"pagination-link is-current\" aria-label=\"Page 46\" aria-current=\"page\">46</a></li>\r\n            <li><a class=\"pagination-link\" aria-label=\"Goto page 47\">47</a></li>\r\n            <li><span class=\"pagination-ellipsis\">&hellip;</span></li>\r\n            <li><a class=\"pagination-link\" aria-label=\"Goto page 86\">86</a></li>\r\n          </ul>\r\n        </nav>\r\n      </div>\r\n      <form @submit.prevent=\"addTopic\">\r\n        <div class=\"field is-horizontal\">\r\n          <div class=\"field-label is-normal\">\r\n            <label class=\"label\">Title</label>\r\n          </div>\r\n          <div class=\"field-body\">\r\n            <div class=\"field\">\r\n              <div class=\"control\">\r\n                <input class=\"input is-normal\" type=\"text\" placeholder=\"\" v-model=\"formData.title\">\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n\r\n        <div class=\"field is-horizontal\">\r\n          <div class=\"field-label is-normal\">\r\n            <label class=\"label\">Description</label>\r\n          </div>\r\n          <div class=\"field-body\">\r\n            <div class=\"field\">\r\n              <div class=\"control\">\r\n                <textarea class=\"textarea\" type=\"text\" placeholder=\"\" v-model=\"formData.content\"></textarea>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"field is-horizontal\">\r\n          <div class=\"field-label\">\r\n            <!-- Left empty for spacing -->\r\n          </div>\r\n          <div class=\"field-body\">\r\n            <div class=\"field\">\r\n              <div class=\"control\">\r\n                <button class=\"button is-primary\">\r\n                  Submit\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n      </form>\r\n    </section>\r\n\r\n  </div>\r\n\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nimport {toast} from \"bulma-toast\";\r\n\r\nexport default {\r\n  inject:['reload'],\r\n  name: \"Discussion\",\r\n  data() {\r\n    return {\r\n      topics: [],\r\n      formData: {\r\n        title: '',\r\n        content: '',\r\n      }\r\n    }\r\n  },\r\n  components: {\r\n\r\n  },\r\n  mounted() {\r\n    this.getTopics()\r\n  },\r\n  methods: {\r\n    getTopics(){\r\n      axios\r\n          .get('/api/topic/')\r\n          .then(response => {\r\n            this.topics = response.data\r\n          })\r\n          .catch(error => {\r\n            console.log(error)\r\n          })\r\n    },\r\n    addTopic(){\r\n      axios.post('/api/topic/add/', {\r\n        'title': this.formData.title,\r\n        'content': this.formData.content\r\n      })\r\n      .then((response => {\r\n        toast({\r\n          message: 'This topic was added!',\r\n          type: 'is-success',\r\n          dismissible: true,\r\n          pauseOnHover: true,\r\n          duration: 2000,\r\n          position: 'bottom-right',\r\n        })\r\n      }))\r\n      .then(response => {\r\n        location.reload();\r\n      })\r\n\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n"],"sourceRoot":""}]}